# Student Edstem post
**What environment are you using (computer, operating system, web browser, terminal/editor, and so on)?**

I am using Windows 10 with Windows subsystem for Linux (WSL), and Sublime Text.


**Detail the symptom you're seeing. Be specific; include both what you're seeing and what you expected to see instead. Screenshots are great, copy-pasted terminal output is also great. Avoid saying “it doesn't work”.**

I have a bash script that runs a java script repeatedly (number specified by user). It is supposed to create a new unique text file for each output, however, it only makes one for the last run.

The java script is a slot machine that generates an n-long sequence of numbers. If they are all equal, it prints that the user has won.

![Image](l51.png)

The bash script runs the java program the number of times equal to the second argument, using sequences with length equal to the first argument. Each run's output is logged as a .txt file in the "farming" directory, and afterwards, the user is notified if any of their runs resulted in a winning combination.

![Image](l52.png)

![Image](l53.png)

As can be seen, only the last file made is written. The contents seem correct, though:

![Image](l54.png)


**Detail the failure-inducing input and context. That might mean any or all of the command you're running, a test case, command-line arguments, working directory, even the last few commands you ran. Do your best to provide as much context as you can.**

`bash farm.sh 2 5` is run in the same directory as the scripts. This command runs `java SlotMachine 2` 5 times. It seems like some part of the for loop is messed up?

# TA Response

Yes, the fact that the java program seems to run correctly but the text files aren't created properly indicates a problem with your bash script. I would suggest taking a closer look at your output redirection, how are you naming these files?

# Student Response

Oh, thank you! I was accidentally using a bash argument as the filename. This remains static throughout runs, so the files overwrite each other. I changed the filename to be equal to the current loop index, and it works now:

![Image](l55.png)

Also, I seem to have gotten extremely lucky here, given the numbers can be 0-99 :)

![Image](l56.png)

![Image](l57.png)

As can be seen, the final directory structure starts with `lr5` (the lab report 5 working directory). Within it is the folder `farming` which was only ever occupied by 1 text file before the bugfix, but now properly houses all text files generated by the user's runs. Previously, the bug could be triggered by any command such as `bash farm.sh n1 n2`, where `n2 > 1`. To fix the bug, the filename of the bash script's output redirection was changed.

![Image](l5last.png)

# Reflection

Something I learned in the 2nd half of the quarter is how to use bash. This includes if statements, for loops, arguments, variables, etc. I often run many different scripts on my computer, so a language that can automatically handle this seems very useful. As a concrete example, I have various web servers running on my desktop computer, so instead of having to launch each one manually after each restart, I can just make a single bash script to handle it all.
